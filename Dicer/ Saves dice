using System;
using System.Collections.Generic;
using System.Threading;
using System.Linq;

namespace ConsoleApp3
{
    class Program
    {
        static int RTD(Random slumpObjekt)
        {      
            Random random = new Random();
            int tärning = random.Next(1, 6); // Den slumpar mellan siffran 1 till 6 , man kan även göra så att tärningarna har t.ex 12 sidor 
            return tärning;  // den returnar värdet av tärning, som är 1-6
        }
        static void Main()
        {
            Random random = new Random(); 
            List<int> tärningar = new List<int>();
  
            Console.WriteLine("\n\tVälkommen till Shayans tärningsgenerator!");

            bool kör = true;
            while (kör)
            {
                Console.WriteLine("\n\t[1] Rulla tärning\n" +
                                    "\t[2] Kolla vad du rullade\n" +
                                    "\t[3] Avsluta");
                Console.Write("\tVälj: ");
                int val;
                int.TryParse(Console.ReadLine(), out val);

                switch (val)
                {
                    case 1:
                        Console.Write("\n\tHur många tärningar vill du rulla: ");
                        bool inmatning = int.TryParse(Console.ReadLine(), out int antal);

                        if (inmatning)
                        {
                            for (int i = 0; i < antal; i++)
                            {
                               
                                tärningar.Add(RTD(random));

                            }
                        }
                        break;
                    case 2:
                        int sum = 0; 
                        if (tärningar.Count <= 0)
                        {
                            Console.WriteLine("\n\tDet finns inga sparade tärningsrull! ");
                        }
                        else
                        {
                            Console.WriteLine("\n\tRullade tärningar: ");
                            foreach (int tärning in tärningar)
                            {
                                Console.WriteLine("\t" + tärning);
                            }
                            double sum2 = tärningar.Sum(tärning => tärning);
                            // Här använder jag double för att få fram decimalerna i medelvärdet
                            // Jag tilllade system.linq för att kunna använda "sum" för att summera alla "tärning" i "tärningar"
                            Console.WriteLine("\n\tMedelvärdet på alla tärningsrull: " + sum2 / tärningar.Count );               
                        }

                        break;
                    case 3:
                        Console.WriteLine("\n\tTack för att du rullade tärning!");
                        Thread.Sleep(2000);
                        kör = false;
                        break;
                    default:
                        Console.WriteLine("\n\tVälj 1-3 från menyn.");
                        break;
                }
            }
        }
    }
}
